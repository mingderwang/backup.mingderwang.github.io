<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>產品介紹 &#8211; Log4 Analytics</title>
<meta name="description" content="介紹各類軟體之安裝與設定.">
<meta name="keywords" content="">



<!-- Twitter Cards -->
<meta name="twitter:title" content="產品介紹">
<meta name="twitter:description" content="介紹各類軟體之安裝與設定.">
<meta name="twitter:site" content="@mingderwang">
<meta name="twitter:creator" content="@mingderwang">

<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="//localhost:4000/images/image-3.jpg">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="產品介紹">
<meta property="og:description" content="介紹各類軟體之安裝與設定.">
<meta property="og:url" content="//localhost:4000/products/">
<meta property="og:site_name" content="Log4 Analytics">





<link rel="canonical" href="//localhost:4000/products/">
<link href="//localhost:4000/feed.xml" type="application/atom+xml" rel="alternate" title="Log4 Analytics Feed">


<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="//localhost:4000/assets/css/main.css">

<meta http-equiv="cleartype" content="on">

<!-- HTML5 Shiv and Media Query Support -->
<!--[if lt IE 9]>
	<script src="//localhost:4000/assets/js/vendor/html5shiv.min.js"></script>
	<script src="//localhost:4000/assets/js/vendor/respond.min.js"></script>
<![endif]-->

<!-- Modernizr -->
<script src="//localhost:4000/assets/js/vendor/modernizr-2.7.1.custom.min.js"></script>

<link href='//fonts.googleapis.com/css?family=PT+Sans+Narrow:400,700%7CPT+Serif:400,700,400italic' rel='stylesheet' type='text/css'>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="//localhost:4000/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="//localhost:4000/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="//localhost:4000/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="//localhost:4000/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="//localhost:4000/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="//localhost:4000/images/apple-touch-icon-144x144-precomposed.png">

</head>

<body class="page">

<!--[if lt IE 9]><div class="browser-upgrade alert alert-info">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div><![endif]-->

<div class="navigation-wrapper">
	<div class="site-name">
		<a href="//localhost:4000">Log4 Analytics</a>
	</div><!-- /.site-name -->
	<div class="top-navigation">
		<nav role="navigation" id="site-nav" class="nav">
		    <ul>
		        
					    
					        
					    
					    <li><a href="//localhost:4000/products/" >產品介紹</a></li>
					  
					    
					        
					    
					    <li><a href="//localhost:4000/pricing/" >服務價格</a></li>
					  
					    
					        
					    
					    <li><a href="//localhost:4000/posts/" >技術日誌</a></li>
					  
					    
					        
					    
					    <li><a href="//localhost:4000/about/" >關於我們</a></li>
					  
					    
					        
					        
					    <li><a href="https://chef-server.log4analytics.com" target="_blank">chef伺服器</a></li>
					  
		    </ul>
		</nav>
	</div><!-- /.top-navigation -->
</div><!-- /.navigation-wrapper -->


  <div class="image-wrap">
  <img src=
    
      "//localhost:4000/images/image-3.jpg"
    
  alt="產品介紹 feature image">
  
    <span class="image-credit">Photo Credit: <a href="http://designact.tw/">Stella Wang</a></span>
  
  </div><!-- /.image-wrap -->


<div id="main" role="main">
  <div class="article-author-side">
    



	<img src="//localhost:4000/images/logo.jpg" class="bio-photo" alt="Log4 資料分析 bio photo">

<h3>Log4 資料分析</h3>
<p>提供系統自動部署,資料收集,以及監控與分析工具</p>
<a href="mailto:sales@log4analytics.com" class="author-social" target="_blank"><i class="fa fa-fw fa-envelope-square"></i> Email</a>
<a href="http://twitter.com/mingderwang" class="author-social" target="_blank"><i class="fa fa-fw fa-twitter-square"></i> Twitter</a>
<a href="http://facebook.com/log4analytics" class="author-social" target="_blank"><i class="fa fa-fw fa-facebook-square"></i> Facebook</a>




<a href="http://github.com/log4analytics" class="author-social" target="_blank"><i class="fa fa-fw fa-github"></i> Github</a>








  </div>
  <article class="page">
    <h1>產品介紹</h1>
    <div class="article-wrap">
      <section id="table-of-contents" class="toc">
  <header>
    <h3>安裝介紹</h3>
  </header>
<div id="drawer">
<ul id="markdown-toc">
  <li><a href="#it-" id="markdown-toc-it-">本季以 IT 自動化為主</a></li>
  <li><a href="#chef--elk" id="markdown-toc-chef--elk">如何使用 Chef 自動部署 ELK</a>    <ul>
      <li><a href="#section" id="markdown-toc-section">– 安裝</a></li>
      <li><a href="#section-1" id="markdown-toc-section-1">– 使用</a></li>
      <li><a href="#section-2" id="markdown-toc-section-2">– 技巧</a></li>
      <li><a href="#section-3" id="markdown-toc-section-3">客製化服務</a></li>
      <li><a href="#section-4" id="markdown-toc-section-4">版權所有</a></li>
    </ul>
  </li>
</ul>

  </div>
</section>
<!-- /#table-of-contents -->

<p>本公司所提供之軟體以開源軟體為主, 我們工程師也投入這些軟體之開發及改良。 平常除了在<a href="/posts/">技術日誌</a>
與大家分享使用心得以及提供資安及改版等之消息外, 主要安裝及使用等教學文件將會在此頁詳細介紹。</p>

<h2 id="it-">本季以 IT 自動化為主</h2>
<blockquote>
  <p>提供 <strong>Chef 12</strong> 以及 <strong>Elasticsearch 1.4</strong>, <strong>Logstash</strong>, <strong>Kibana 4.0</strong> (ELK)
等產品之介紹與服務。 其中 Chef 扮演著 IT 自動部署非常重要的角色. 配合 ELK 收集大量系統日誌和資料,
提供更有效率的電腦設備與資源的監控與管理。</p>
</blockquote>

<blockquote>
  <p>如此一來, 讓每個公司都能擁有類似安裝 <strong>Splunk</strong> 的系統資訊及時監控與搜尋功能,
雖然 ELK 功能較為簡易, 但在價格上卻是天壤之別。
我們也提供客製化服務, 來適時地增加必要的功能, 以換取公司最佳的 ROI (投資回報率)</p>
</blockquote>

<hr />

<h2 id="chef--elk">如何使用 Chef 自動部署 ELK</h2>

<p>基本上 Chef 可以分有主機的 chef-repo 以及沒主機的 chef-solo 兩種, 我們建議公司採用 chef-repo
方式來控管公司所有電腦軟體版本安裝和更新, 進而自動控管使用者帳號和權限部署。</p>

<p><strong>注意: 在安裝軟體前, 請先利用 email 與我們聯絡 <a href="mailto:support@log4analytics.com"> support@log4analytics.com </a> , 並獲取CHEF伺服器免費帳號才能進行免費試用!</strong></p>

<h3 id="section">– 安裝</h3>

<p>第一, 我們先準備一台用來下 knife 指令的工作站, 這裡以ㄧ台裝好 Ubuntu 12.04 或 Mac OS X 筆電為例。
請依照 <a href="https://downloads.chef.io/chef-dk/"> https://downloads.chef.io/chef-dk/ </a> 指示, 安裝好 ChefSDK, 並將其安裝目錄加至您 PATH
路徑.</p>

<h3 id="section-1">– 使用</h3>

<p>第一, 生成一個新的工作目錄, 這裡稱之為 “chef-repo”。您最好使用 git 版本控管此目錄, 如此一來,
便可以讓其他人或在其他電腦上更新 chef server 內容和修改 cookbooks 和 nodes 等資源.</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">//產生一個新 repo 目錄, 叫 chef-repo
<span class="nv">$ </span>chef generate repo chef-repo</code></pre></div>

<p>第二, 自動安裝 chef-client 於 node1 主機</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>knife bootstrap node1
// 如果你不想用 root 帳號進入, 可以用有 sudo 權限的 user 帳號, 執行以下指令
<span class="nv">$ </span>knife bootstrap node1 --ssh-user username --ssh-password <span class="s2">&quot;password&quot;</span> --sudo --use-sudo-password <span class="s2">&quot;password&quot;</span></code></pre></div>

<p>第三, 我們找一台本工作站可以 ssh 的到的電腦, 這裡假設它叫 “node1”, 來自動配置 Elasticsearch.</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nb">cd </span>chef-repo
mkdir nodes
<span class="nb">cd </span>nodes
cat &gt; node1.json <span class="s">&lt;&lt;EOL</span>
<span class="s">{ &quot;name&quot;: &quot;node1&quot;,</span>
<span class="s">&quot;chef_type&quot;: &quot;node&quot;,</span>
<span class="s">&quot;json_class&quot;: &quot;Chef::Node&quot;,</span>
<span class="s">&quot;chef_environment&quot;: &quot;_default&quot;,</span>
<span class="s">&quot;default&quot;: {</span>
<span class="s">  },</span>
<span class="s">  &quot;normal&quot;: {</span>
<span class="s">    },</span>
<span class="s">    &quot;override&quot;: {</span>
<span class="s">      },</span>
<span class="s">      &quot;elasticsearch&quot;: {</span>
<span class="s">        &quot;cluster&quot; : { &quot;name&quot; : &quot;elasticsearch_from_chef&quot; }</span>
<span class="s">        },</span>
<span class="s">        &quot;run_list&quot;: [</span>
<span class="s">        &quot;recipe[monit]&quot;,</span>
<span class="s">        &quot;recipe[java]&quot;,</span>
<span class="s">        &quot;recipe[elasticsearch]&quot;,</span>
<span class="s">        &quot;recipe[elasticsearch::monit]&quot;,</span>
<span class="s">        &quot;recipe[log4-elasticsearch]&quot;,</span>
<span class="s">        &quot;recipe[logstash::server]&quot;,</span>
<span class="s">        &quot;recipe[chamber-kibana::default]&quot;</span>
<span class="s">        ]</span>
<span class="s">      }</span>
<span class="s">EOL</span></code></pre></div>

<p>以及利用如下指令, 將 node1 的 run list 更新到 chef server 上</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>knife node from file node1.json</code></pre></div>

<p>最後, 到 node1 主機上, 手動執行 chef-client, 本機就會依照最新 run list, 自動安裝 Elasticsearch, Logstash, 以及 Kibana</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>sudo chef-client</code></pre></div>

<hr />

<h3 id="section-2">– 技巧</h3>

<ul>
  <li>這裡還包含安裝 monit, 是利用 monit 來確保 Elasticsearch 的不停頓運轉。</li>
  <li>如果 monit 沒有自動 run 起來, 請在 /etc/monit/monitrc 裡增加以下幾行</li>
</ul>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nb">set </span>httpd port 3737
      use address 127.0.0.1  <span class="c"># only accept connection from localhost</span>
      allow 0.0.0.0/0.0.0.0</code></pre></div>

<ul>
  <li>確定本機 port 9200 有開放. Elasticsearch 需要用 9200</li>
</ul>

<hr />

<h3 id="section-3">客製化服務</h3>

<ul>
  <li>我們可以幫客戶製作客製化 cookbooks</li>
  <li>我們可以規劃其他軟體自動化部屬</li>
  <li>有問題請寄電子郵件到: <a href="mailto:support@log4analytics.com">support@log4analytics.com</a></li>
</ul>

<hr />

<h3 id="section-4">版權所有</h3>

<ul>
  <li>Splunk is a product and trademark of Splunk Inc.</li>
  <li>Elasticsearch, Logstash &amp; Kibana are trademarks of Elasticsearch BV.</li>
  <li>Chef and Open Source Chef is a trademark of Chef Software, Inc.</li>
</ul>

    </div><!-- /.article-wrap -->
    
  </article>
</div><!-- /#index -->

<div class="footer-wrap">
  <footer>
    

<span>&copy; 2015 Log4 資料分析. 桐立科技 Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> using the <a href="http://mademistakes.com/minimal-mistakes/" rel="nofollow">Minimal Mistakes</a> theme.</span>

  </footer>
</div><!-- /.footer-wrap -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="//localhost:4000/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="//localhost:4000/assets/js/scripts.min.js"></script>

          

</body>
</html>